# DevOps Monitoring Project

Этот проект представляет собой систему мониторинга на основе микросервисной архитектуры. Она включает приложение на
Python (Flask), системы мониторинга метрик (Prometheus), логов (Loki и Promtail) и визуализации данных (Grafana).

## Содержание

```
.
├── app
│   ├── Dockerfile           # Dockerfile для приложения
│   ├── app.py               # Основной код Flask-приложения
│   ├── log                  # Директория для логов
│   └── requirements.txt     # Зависимости приложения
├── docker-compose.yaml      # Описание всех сервисов
├── grafana
│   └── grafana.yml          # Конфигурация источников данных Grafana
├── prometheus
│   └── prometheus.yml       # Конфигурация Prometheus
└── promtail
    └── promtail.yaml        # Конфигурация Promtail
```

## Основные компоненты

### 1. **Flask-приложение**

- Предоставляет два основных API:
    - **`/rolldice`**: возвращает результат броска кубика.
    - **`/metrics`**: предоставляет метрики в формате Prometheus.
- Логирует события и метрики с использованием **OpenTelemetry**.

### 2. **Prometheus**

- Сбор метрик с Flask-приложения и системы в реальном времени.
- Конфигурация:
    - Мониторинг приложения: `iu5devops-app:5000`.

### 3. **Grafana**

- Визуализация данных метрик и логов.
- Предоставлены источники данных:
    - **Prometheus** для метрик.
    - **Loki** для логов.
    - **Jaeger** для трассировки.

### 4. **Loki и Promtail**

- Loki сохраняет логи, Promtail собирает логи из файла `flask.log`.

### 5. **Jaeger**

- Отслеживание трассировок выполнения API.
